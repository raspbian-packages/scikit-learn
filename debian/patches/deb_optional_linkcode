--- a/doc/conf.py
+++ b/doc/conf.py
@@ -33,10 +33,17 @@ import sphinx_gallery
 extensions = [
     'sphinx.ext.autodoc', 'sphinx.ext.autosummary',
     'numpy_ext.numpydoc',
-    'sphinx.ext.linkcode', 'sphinx.ext.doctest',
+    'sphinx.ext.doctest',
     'sphinx_gallery.gen_gallery',
 ]
 
+if make_linkcode_resolve:
+    try:
+        import sphinx.ext.linkcode as linkcode_module
+        extensions += [ 'sphinx.ext.linkcode' ]
+    except ImportError:
+        linkcode_module = None
+
 # pngmath / imgmath compatibility layer for different sphinx versions
 import sphinx
 from distutils.version import LooseVersion
@@ -279,7 +286,8 @@ def setup(app):
 
 
 # The following is used by sphinx.ext.linkcode to provide links to github
-linkcode_resolve = make_linkcode_resolve('sklearn',
+if linkcode_module:
+    linkcode_resolve = make_linkcode_resolve('sklearn',
                                          u'https://github.com/scikit-learn/'
                                          'scikit-learn/blob/{revision}/'
                                          '{package}/{path}#L{lineno}')
